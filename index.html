<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Zootopia Premium</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>

    <div id="splash-screen">
        <video id="splash-video" src="assets/splash_video.mp4" muted playsinline autoplay></video>
    </div>

    <div class="app-container" style="visibility: hidden;">
        
        <header class="main-header">
            <div class="user-profile">
                <img src="assets/avatar-placeholder.png" class="avatar">
                <span id="user-name">Player</span>
            </div>
            <div id="ton-connect-btn"></div> 
        </header>

        <div class="content-wrapper">

            <div id="page-main" class="page-content">
                <section class="balance-section">
                    <h1 id="balance">0</h1>
                    <div class="zoo-status">
                        <img src="assets/coin-logo.png" class="main-coin-icon" alt="ZOO coin">
                        <span id="zoo-balance">0.0000 $ZOO</span>
                    </div>
                </section>
                <main class="game-area">
                    <div class="character-card" id="tap-zone">
                        <img src="assets/main-dog.png" class="dog-base" id="dog-img" alt="Main Character">
                    </div>
                </main>
                <div class="energy-footer">
                    <div class="energy-info"><span>‚ö° <span id="current-energy">1000</span>/1000</span></div>
                    <div class="progress-container"><div class="progress-fill" id="energy-bar"></div></div>
                </div>
            </div>

            <div id="page-mine" class="page-content" style="display: none;">
                 <div class="mine-container">
                    <div class="mine-header"><h2><i class="fas fa-pickaxe"></i> –ö–æ—Å—Ç—è–Ω–∞—è —à–∞—Ö—Ç–∞</h2><p>–®–∞—Ö—Ç–∞ –ø–∞—Å—Å–∏–≤–Ω–æ –¥–æ–±—ã–≤–∞–µ—Ç –∫–æ—Å—Ç–∏, –ø–æ–∫–∞ –≤—ã –æ—Ç–¥—ã—Ö–∞–µ—Ç–µ.</p></div>
                    <div class="mine-stats-card">
                        <div><span>–£—Ä–æ–≤–µ–Ω—å</span><strong id="mining-level">1</strong></div>
                        <div><span>–í —á–∞—Å</span><strong id="mining-rate">10</strong></div>
                    </div>
                    <div class="mine-storage-card">
                        <h3>–•—Ä–∞–Ω–∏–ª–∏—â–µ</h3>
                        <div class="progress-container"><div class="progress-fill" id="mining-storage-fill"></div></div>
                        <span id="mining-storage-value">0 / 100</span>
                        <button class="btn-main" onclick="MiningManager.collect()">–°–æ–±—Ä–∞—Ç—å</button>
                    </div>
                    <div class="mine-upgrade-card">
                        <h3>–£–ª—É—á—à–µ–Ω–∏–µ</h3>
                        <p>–°—Ç–æ–∏–º–æ—Å—Ç—å: <strong id="upgrade-cost">500</strong> –∫–æ—Å—Ç–µ–π</p>
                        <button id="btn-upgrade-mine" class="btn-secondary" onclick="MiningManager.upgrade()">–£–ª—É—á—à–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <div id="page-swap" class="page-content" style="display: none;">
                <div class="swap-container">
                    <div class="swap-header"><h2><i class="fas fa-exchange-alt"></i> –û–±–º–µ–Ω–Ω–∏–∫</h2><p>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –∫–æ—Å—Ç–∏ –≤ —Ç–æ–∫–µ–Ω—ã $ZOO.</p></div>
                    <div class="swap-card">
                        <div class="swap-field"><label>–û—Ç–¥–∞–µ—Ç–µ</label><input type="number" id="swap-input" placeholder="0"><span><i class="fas fa-bone"></i> –ö–û–°–¢–ò</span></div>
                        <div class="user-balance">–í–∞—à –±–∞–ª–∞–Ω—Å: <span id="swap-user-bones">0</span></div>
                    </div>
                    <div class="swap-rate">–ö—É—Ä—Å: 1000 <i class="fas fa-bone"></i> = 1 $ZOO</div>
                    <div class="swap-card">
                        <div class="swap-field"><label>–ü–æ–ª—É—á–∞–µ—Ç–µ</label><div id="swap-output" class="swap-output-value">0.00</div><span>$ZOO</span></div>
                    </div>
                    <button id="btn-perform-swap" class="btn-main">–û–±–º–µ–Ω—è—Ç—å</button>
                </div>
            </div>

            <div id="page-tasks" class="page-content" style="display: none;">
                <div class="tasks-container"><div class="tasks-header"><h2><i class="fas fa-tasks"></i> –ó–∞–¥–∞–Ω–∏—è</h2><p>–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∞–π—Ç–µ —Ü–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã.</p></div><div id="tasks-list" class="tasks-list-container"></div></div>
            </div>
            
            <div id="page-about" class="page-content" style="display: none;">
                <div class="about-container">
                    <div class="about-card">
                        <h3>–ó–æ–æ—Ç–æ–ø–∏—è: –ì–¥–µ –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∑–∞–±–æ—Ç—É üêæ‚ù§Ô∏è</h3>
                        <p>–î—Ä—É–∑—å—è, –Ω–∞—à–∞ ¬´–î–æ–±—Ä–∞—è —Ç–∞–∫—Å–∞¬ª –≤—ã—Ä–∞—Å—Ç–∞–µ—Ç! –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –≤—ã –∑–Ω–∞–ª–∏: ¬´–ó–æ–æ—Ç–æ–ø–∏—è¬ª ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞, –≥–¥–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å ZOO-–∫–æ–∏–Ω—ã. –≠—Ç–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ —Å –¥—É—à–æ–π –∏ –º–∏—Å—Å–∏–µ–π.</p>
                    </div>
                </div>
            </div>

        </div>

        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showTab('main')"><i class="fas fa-paw"></i><span>–ò–≥—Ä–∞</span></button>
            <button class="nav-item" onclick="showTab('nft')"><i class="fas fa-star"></i><span>NFT</span></button>
            <button class="nav-item" onclick="showTab('swap')"><i class="fas fa-exchange-alt"></i><span>–û–±–º–µ–Ω</span></button>
            <button class="nav-item" onclick="showTab('tasks')"><i class="fas fa-tasks"></i><span>–ó–∞–¥–∞–Ω–∏—è</span></button>
            <button class="nav-item" onclick="WalletManager.tonConnectUI.openModal()"><i class="fas fa-wallet"></i><span>Wallet</span></button>
        </nav>

        <div id="nft-sheet" class="bottom-sheet">
            <div class="sheet-handle"></div>
            <div class="sheet-content">
                <h2>–ö–æ–ª–ª–µ–∫—Ü–∏—è NFT</h2>
                <div class="nft-grid" id="inventory-grid"></div>
            </div>
        </div>

    </div>

    <script src="js/nft_manager.js"></script>
    <script src="js/mining.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/swap.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
