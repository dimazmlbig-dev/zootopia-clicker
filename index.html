<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <title>Zootopia Clicker</title>

  <link rel="stylesheet" href="./style.css" />

  <!-- Telegram WebApp -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- TON Connect UI (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å; –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ ‚Äî —É–±–µ—Ä—ë—à—å –∏ wallet-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ connect) -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/tonconnect-ui.min.js"></script>
</head>

<body>
  <!-- ===== Splash ===== -->
  <div id="splash" class="splash">
    <video id="splash-video" class="splash-video" muted playsinline preload="auto"
           poster="./assets/splash-poster.jpg">
      <source src="./assets/splash.mp4" type="video/mp4" />
    </video>

    <button id="splash-skip" class="splash-skip" type="button">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>

    <div class="splash-overlay">
      <div class="splash-brand">
        <div class="splash-logo">Z</div>
        <div class="splash-title">Zootopia Clicker</div>
        <div class="splash-sub">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
      <button id="splash-tap" class="splash-tap" type="button">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</button>
    </div>
  </div>

  <!-- ===== App ===== -->
  <main id="app" class="app hidden">
    <div class="bg-clouds"></div>

    <header class="hud">
      <div class="hud-left">
        <div id="score" class="score">0</div>
        <div class="subscore">
          <span class="subscore-label">$ZOO</span>
          <span id="zoo-balance">0</span>
        </div>
      </div>

      <div class="hud-right">
        <div class="wallet-pill">
          <div class="wallet-text" id="wallet-short">–ö–æ—à–µ–ª—ë–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω</div>
          <div id="ton-connect-ui"></div>
        </div>
      </div>
    </header>

    <div class="nickname-pill">
      <span>üê∂</span>
      <span id="user-name">–ò–≥—Ä–æ–∫</span>
    </div>

    <!-- ===== Clicker stage ===== -->
    <section id="stage" class="stage">
      <button id="tap-zone" class="tap-zone" type="button" aria-label="Tap">
        <img id="dog-img" src="./assets/dog_idle.png" alt="Dog" draggable="false" />
      </button>
    </section>

    <!-- Energy -->
    <section class="energy-card">
      <div class="energy-head">
        <div class="energy-title">–≠–ù–ï–†–ì–ò–Ø</div>
        <div class="energy-value"><span id="energy-now">1000</span> / <span id="energy-max">1000</span></div>
      </div>
      <div class="energy-track">
        <div id="energy-fill" class="energy-fill" style="width:100%"></div>
      </div>
    </section>

    <!-- Pages -->
    <section class="pages">

      <!-- PAGE: Clicker -->
      <div id="page-clicker" class="page panel">
        <div class="panel-title">–ö–ª–∏–∫–∏</div>

        <div class="muted">–ú–∞–π–Ω–∏–Ω–≥</div>
        <div class="hr"></div>

        <div class="muted">–î–æ—Å—Ç—É–ø–Ω–æ: <b><span id="mining-available">0</span></b> $ZOO</div>
        <button id="btn-collect" class="primary-btn" type="button">–°–æ–±—Ä–∞—Ç—å –º–∞–π–Ω–∏–Ω–≥</button>

        <div class="hr"></div>
        <div class="muted">–£—Ä–æ–≤–µ–Ω—å –º–∞–π–Ω–∏–Ω–≥–∞: <b><span id="mining-level">1</span></b></div>
        <button id="btn-upgrade-mining" class="secondary-btn" type="button">–ü—Ä–æ–∫–∞—á–∞—Ç—å (—Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="mining-upgrade-cost">100</span> bones)</button>
      </div>

      <!-- PAGE: NFT -->
      <div id="page-nft" class="page panel hidden">
        <div class="panel-title">NFT</div>
        <div class="muted">–ú–∞–≥–∞–∑–∏–Ω NFT –∑–∞ $ZOO (–ø–æ–∫–∞ –¥–µ–º–æ).</div>
        <div class="hr"></div>
        <div id="nft-list" class="tasks-list"></div>
      </div>

      <!-- PAGE: Tasks -->
      <div id="page-tasks" class="page panel hidden">
        <div class="panel-title">–ó–∞–¥–∞–Ω–∏—è</div>
        <div class="muted">–í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∞–π –±–æ–Ω—É—Å—ã.</div>
        <div class="hr"></div>
        <div id="tasks-list" class="tasks-list"></div>
      </div>

      <!-- PAGE: Wallet -->
      <div id="page-wallet" class="page panel hidden">
        <div class="panel-title">–ö–æ—à–µ–ª—ë–∫</div>

        <div class="muted">–ê–¥—Ä–µ—Å:</div>
        <div id="wallet-address" class="ref-link">–ù–µ –ø–æ–¥–∫–ª—é—á—ë–Ω</div>

        <div class="hr"></div>

        <button id="btn-send-ton" class="primary-btn" type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å 0.1 TON (–¥–µ–º–æ)</button>
        <div class="muted" style="margin-top:10px;">
          –í –¥–µ–º–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞, –ø–æ–∫–∞ –Ω–µ —É–∫–∞–∂–µ—à—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è/–ª–æ–≥–∏–∫—É.
        </div>
      </div>

    </section>

    <!-- Bottom nav -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-page="clicker" type="button">
        <div class="nav-ico">üê∂</div>
        <div class="nav-txt">–ö–ª–∏–∫–∏</div>
      </button>
      <button class="nav-btn" data-page="nft" type="button">
        <div class="nav-ico">üñºÔ∏è</div>
        <div class="nav-txt">NFT</div>
      </button>
      <button class="nav-btn" data-page="tasks" type="button">
        <div class="nav-ico">‚úÖ</div>
        <div class="nav-txt">–ó–∞–¥–∞–Ω–∏—è</div>
      </button>
      <button class="nav-btn" data-page="wallet" type="button">
        <div class="nav-ico">üíé</div>
        <div class="nav-txt">–ö–æ—à–µ–ª—ë–∫</div>
      </button>
    </nav>
  </main>

  <!-- JS -->
  <script src="./js/storage.js"></script>
  <script src="./js/splash.js"></script>
  <script src="./js/tonconnect.js"></script>
  <script src="./js/nft.js"></script>
  <script src="./js/tasks.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>