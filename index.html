<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ü¶¥ Zootopia | –§–∞—Ä–º–∏ $ZOO –≤ Telegram</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;900&family=Orbitron:wght@400;700;900&display=swap');

        :root {
            --gold: linear-gradient(135deg, #FFD700, #FFA500, #FF6B00);
            --diamond: linear-gradient(135deg, #00FFFF, #0088FF, #00FF88);
            --bg-primary: #0A0A12;
            --bg-glass: rgba(30, 30, 45, 0.8);
            --text-primary: #FFFFFF;
            --accent: #00FFFF;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            margin: 0;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* –ó–∞—Å—Ç–∞–≤–∫–∞ */
        .splash-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        /* –•–µ–¥–µ—Ä */
        .elite-header {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
        }

        .balance-amount {
            font-family: 'Orbitron', sans-serif;
            font-size: 42px;
            font-weight: 900;
            background: var(--gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* –ö–ª–∏–∫–µ—Ä */
        .clicker-zone {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            margin-top: 20px;
        }

        .pet-image {
            width: 220px;
            transition: transform 0.1s;
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.3));
        }

        .pet-image:active {
            transform: scale(0.92);
        }

        /* –≠–Ω–µ—Ä–≥–∏—è */
        .energy-container {
            padding: 20px;
            margin: 0 20px;
            background: var(--bg-glass);
            border-radius: 15px;
        }

        .energy-bar {
            height: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-top: 10px;
        }

        .energy-fill {
            height: 100%;
            background: linear-gradient(90deg, #00FF88, #0088FF);
            width: 100%;
            transition: width 0.3s;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .neuro-nav {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: var(--bg-glass);
            display: flex;
            justify-content: space-around;
            padding: 15px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .nav-item {
            text-align: center;
            color: #888;
            font-size: 12px;
        }

        .nav-item.active {
            color: var(--accent);
        }

        .nav-item i {
            display: block;
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* –°–∫—Ä—ã—Ç—ã–µ —Ç–∞–±—ã */
        .tab-content { display: none; padding: 20px; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>

    <div class="splash-screen" id="splashScreen">
        <h1 style="font-family: 'Orbitron'; color: #FFD700;">ZOOTOPIA</h1>
        <div style="width: 200px; height: 4px; background: rgba(255,255,255,0.1); margin-top: 20px;">
            <div id="loadProgress" style="width: 0%; height: 100%; background: #FFD700; transition: 0.1s;"></div>
        </div>
    </div>

    <div class="elite-header">
        <div style="font-size: 12px; letter-spacing: 2px; color: #FFD700;">–í–ê–®–ò –ö–û–°–¢–ò</div>
        <div class="balance-amount" id="balanceAmount">0</div>
        <div style="color: #00FFFF; font-family: 'Orbitron';">$ZOO: <span id="zooAmount">0.0000</span></div>
    </div>

    <main id="mainGame">
        <div id="tab-home" class="tab-content active">
            <div class="clicker-zone">
                <img src="dachshund.png" class="pet-image" id="clickTarget" alt="Pet">
            </div>

            <div class="energy-container">
                <div style="display: flex; justify-content: space-between; font-size: 14px;">
                    <span>‚ö° –≠–Ω–µ—Ä–≥–∏—è</span>
                    <span id="energyValue">1000/1000</span>
                </div>
                <div class="energy-bar">
                    <div class="energy-fill" id="energyFill"></div>
                </div>
            </div>
        </div>

        <div id="tab-airdrop" class="tab-content">
            <h2 style="text-align:center">Airdrop $ZOO</h2>
            <div style="background:var(--bg-glass); padding:20px; border-radius:15px; text-align:center;">
                <p>–í–∞—à –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤ –≥–æ—Ç–æ–≤ –∫ –ª–∏—Å—Ç–∏–Ω–≥—É!</p>
                <div id="ton-connect-button" style="display: flex; justify-content: center;"></div>
            </div>
        </div>
    </main>

    <nav class="neuro-nav">
        <div class="nav-item active" onclick="showTab('home', this)">
            <i class="fas fa-paw"></i>
            <span>–ò–≥—Ä–∞</span>
        </div>
        <div class="nav-item" onclick="showTab('airdrop', this)">
            <i class="fas fa-gem"></i>
            <span>$ZOO</span>
        </div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
        let gameData = JSON.parse(localStorage.getItem('zoo_data')) || {
            bones: 0,
            zoo: 0,
            energy: 1000,
            maxEnergy: 1000
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞
        let prg = 0;
        const loader = setInterval(() => {
            prg += 5;
            document.getElementById('loadProgress').style.width = prg + '%';
            if(prg >= 100) {
                clearInterval(loader);
                document.getElementById('splashScreen').style.opacity = '0';
                setTimeout(() => document.getElementById('splashScreen').style.display = 'none', 500);
            }
        }, 50);

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
        function updateUI() {
            document.getElementById('balanceAmount').innerText = Math.floor(gameData.bones);
            document.getElementById('zooAmount').innerText = gameData.zoo.toFixed(4);
            document.getElementById('energyValue').innerText = `${gameData.energy}/${gameData.maxEnergy}`;
            document.getElementById('energyFill').style.width = (gameData.energy / gameData.maxEnergy * 100) + '%';
            localStorage.setItem('zoo_data', JSON.stringify(gameData));
        }

        // –ö–ª–∏–∫
        document.getElementById('clickTarget').addEventListener('touchstart', (e) => {
            if(gameData.energy > 0) {
                gameData.bones += 1;
                gameData.zoo += 0.0001;
                gameData.energy -= 1;
                tg.HapticFeedback.impactOccurred('medium');
                updateUI();
            }
        });

        // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
        setInterval(() => {
            if(gameData.energy < gameData.maxEnergy) {
                gameData.energy += 1;
                updateUI();
            }
        }, 1500);

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
        function showTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            el.classList.add('active');
            tg.HapticFeedback.selectionChanged();
        }

        // TON Connect
        const tonConnectUI = new TONConnectUI.TonConnectUI({
            manifestUrl: 'https://dimazmlbig-dev.github.io/zootopia-clicker/tonconnect-manifest.json',
            buttonRootId: 'ton-connect-button'
        });

        updateUI();
    </script>
</body>
</html>
