<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Zootopia Clicker</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Splash VIDEO -->
  <div id="splash-screen" class="splash">
    <video
      id="splash-video"
      class="splash-video"
      playsinline
      muted
      preload="auto"
      poster="assets/splash-poster.jpg"
    >
      <source src="assets/splash.mp4" type="video/mp4" />
    </video>

    <div class="splash-overlay">
      <div class="splash-brand">
        <div class="splash-logo">Z</div>
        <div class="splash-title">Zootopia Clicker</div>
        <div class="splash-sub" id="splash-status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>

      <button id="splash-skip" class="splash-skip" type="button">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>

      <button id="splash-tap" class="splash-tap hidden" type="button">
        –ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å
      </button>
    </div>
  </div>

  <!-- App -->
  <div id="main-content" class="app hidden">
    <div class="bg-clouds"></div>

    <header class="hud">
      <div class="hud-left">
        <div class="score" id="bones-count">0</div>

        <div class="subscore">
          <span class="subscore-label">$ZOO:</span>
          <span id="zoo-count">0</span>
        </div>

        <!-- Save status -->
        <div class="save-pill" id="save-pill">
          <span class="save-dot" id="save-dot"></span>
          <span class="save-text" id="save-text">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: ‚Äî</span>
        </div>
      </div>

      <div class="hud-right">
        <button id="open-wallet" class="wallet-pill" type="button">
          <div class="wallet-text" id="wallet-address">–ö–æ—à–µ–ª—ë–∫</div>
          <div id="ton-connect" class="ton-btn-root"></div>
        </button>
      </div>
    </header>

    <div class="nickname-pill">
      <span id="user-name">–ò–≥—Ä–æ–∫</span>
      <span class="paw">üêæ</span>
    </div>

    <main class="stage">
      <button id="tap-zone" class="tap-zone" type="button" aria-label="Tap">
        <img id="dog-img" src="assets/dog_idle.png" alt="Tap character">
      </button>
    </main>

    <section class="energy-card">
      <div class="energy-head">
        <div class="energy-title">‚ö° –≠–ù–ï–†–ì–ò–Ø</div>
        <div class="energy-value"><span id="current-energy">1000 / 1000</span></div>
      </div>
      <div class="energy-track">
        <div class="energy-fill" id="energy-bar"></div>
      </div>
    </section>

    <section class="pages">
      <div id="tab-main" class="page active">
        <div class="panel">
          <div class="panel-title">–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π</div>
          <button id="share-ref-btn" class="primary-btn" type="button">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è (0/5)</button>
          <div class="ref-link">
            t.me/zooclikbot?start=ref_<span id="ref-code-display">---</span>
          </div>
        </div>
      </div>

      <div id="tab-tasks" class="page hidden">
        <div class="panel">
          <div class="panel-title">–ó–∞–¥–∞–Ω–∏—è</div>
          <div id="tasks-list" class="tasks-list"></div>
        </div>
      </div>

      <div id="tab-mining" class="page hidden">
        <div class="panel">
          <div class="panel-title">–ú–∞–π–Ω–∏–Ω–≥</div>
          <div id="mining-info" class="muted">–£—Ä–æ–≤–µ–Ω—å: 1 | –î–æ—Å—Ç—É–ø–Ω–æ: 0</div>
          <button id="collect-btn" class="secondary-btn" type="button">–°–æ–±—Ä–∞—Ç—å</button>

          <div class="hr"></div>

          <button id="pay-01-ton-btn" class="primary-btn" type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å 0.1 TON</button>
        </div>
      </div>
    </section>

    <nav class="bottom-nav">
      <button class="nav-btn active" data-tab="main" type="button">
        <div class="nav-ico">ü¶¥</div>
        <div class="nav-txt">–ì–ª–∞–≤–Ω–∞—è</div>
      </button>
      <button class="nav-btn" data-tab="tasks" type="button">
        <div class="nav-ico">üìã</div>
        <div class="nav-txt">–ó–∞–¥–∞–Ω–∏—è</div>
      </button>
      <button class="nav-btn" data-tab="mining" type="button">
        <div class="nav-ico">üöÄ</div>
        <div class="nav-txt">–ü—Ä–æ–∫–∞—á–∫–∞</div>
      </button>
    </nav>
  </div>

  <!-- Wallet Modal -->
  <div id="wallet-modal" class="modal hidden" aria-hidden="true">
    <div id="wallet-backdrop" class="modal-backdrop"></div>

    <div class="modal-sheet">
      <div class="modal-head">
        <div class="modal-title">Wallet</div>
        <button id="wallet-close" class="modal-x" type="button">‚úï</button>
      </div>

      <div class="modal-addr" id="wallet-full-address">‚Äî</div>

      <div class="wallet-cards">
        <div class="asset-row">
          <div class="asset-left">
            <div class="asset-ico zoo-ico">ü™ô</div>
            <div>
              <div class="asset-name">$ZOO</div>
              <div class="asset-usd" id="zoo-usd">‚âà $0.00</div>
            </div>
          </div>
          <div class="asset-right">
            <div class="asset-amt" id="zoo-balance">0</div>
          </div>
        </div>

        <div class="asset-row">
          <div class="asset-left">
            <div class="asset-ico ton-ico">‚óà</div>
            <div>
              <div class="asset-name">TON</div>
              <div class="asset-usd" id="ton-usd">‚âà $0.00</div>
            </div>
          </div>
          <div class="asset-right">
            <div class="asset-amt" id="ton-balance">0.00</div>
          </div>
        </div>
      </div>

      <div class="modal-actions">
        <button id="btn-send" class="pill-btn" type="button">Send</button>
        <button id="btn-receive" class="pill-btn" type="button">Receive</button>
        <button id="disconnect-btn" class="pill-btn ghost" type="button">Disconnect</button>
      </div>

      <!-- Receive -->
      <div id="receive-panel" class="mini-panel hidden">
        <div class="mini-title">Receive</div>
        <div class="mini-row">
          <div class="mini-addr" id="receive-addr">‚Äî</div>
          <button id="copy-addr" class="mini-btn" type="button">Copy</button>
        </div>
      </div>

      <!-- Send -->
      <div id="send-panel" class="mini-panel hidden">
        <div class="mini-title">Send TON</div>
        <input id="send-to" class="mini-input" placeholder="Address" />
        <input id="send-amt" class="mini-input" placeholder="Amount (TON)" />
        <button id="send-confirm" class="mini-btn primary" type="button">Confirm</button>
      </div>

      <div class="mini-foot muted">
        –ë–∞–ª–∞–Ω—Å TON –±–µ—Ä—ë–º —Å —Ç–≤–æ–µ–≥–æ Worker (–±–µ–∑ –∫–ª—é—á–µ–π –≤–æ —Ñ—Ä–æ–Ω—Ç–µ).
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/storage.js"></script>
  <script src="js/tasks.js"></script>
  <script src="js/tonconnect.js"></script>
  <script src="js/app.js"></script>
</body>
</html>