<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Zootopia Premium</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>

    <!-- Video Splash Screen -->
    <div id="splash-screen">
        <video id="splash-video" src="assets/splash_video.mp4" muted playsinline autoplay></video>
    </div>

    <!-- App container is now the single source of truth for layout -->
    <div class="app-container" style="visibility: hidden;">
        
        <header class="main-header">
            <div class="user-profile">
                <img src="assets/avatar-placeholder.png" class="avatar">
                <span id="user-name">Player</span>
            </div>
            <div id="ton-connect-btn"></div> 
        </header>

        <div class="content-wrapper">
            <!-- All pages go here -->
            <div id="page-main" class="page-content">...</div>
            <div id="page-mine" class="page-content" style="display: none;">...</div>
            <div id="page-swap" class="page-content" style="display: none;">...</div>
            <div id="page-tasks" class="page-content" style="display: none;">...</div>
            <div id="page-about" class="page-content" style="display: none;">...</div>
        </div>

        <nav class="bottom-nav">
            <!-- Navigation buttons -->
            <button class="nav-item active" onclick="showTab('main')"><i class="fas fa-paw"></i><span>Игра</span></button>
            <button class="nav-item" onclick="showTab('mine')"><i class="fas fa-pickaxe"></i><span>Майнинг</span></button>
            <button class="nav-item" onclick="showTab('swap')"><i class="fas fa-exchange-alt"></i><span>Обмен</span></button>
            <button class="nav-item" onclick="showTab('tasks')"><i class="fas fa-tasks"></i><span>Задания</span></button>
            <button class="nav-item" onclick="showTab('about')"><i class="fas fa-info-circle"></i><span>О нас</span></button>
        </nav>

        <!-- KEY FIX: NFT Sheet is now INSIDE the app container -->
        <div id="nft-sheet" class="bottom-sheet">
            <div class="sheet-handle"></div>
            <div class="sheet-content">
                <h2>Коллекция NFT</h2>
                <div class="nft-grid" id="inventory-grid"></div>
            </div>
        </div>

    </div>

    <script src="js/nft_manager.js"></script>
    <script src="js/mining.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/swap.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
