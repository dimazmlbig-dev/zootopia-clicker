<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Zootopia Clicker</title>

  <link rel="stylesheet" href="./css/style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@latest/tonconnect-ui.min.js"></script>
</head>

<body>
  <!-- SPLASH -->
  <div id="splash" class="splash">
    <video id="splashVideo" class="splash__video" muted playsinline></video>
    <div class="splash__overlay">
      <button id="splashSkip" class="btn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="app hidden">
    <header class="topbar">
      <div class="topbar__left">
        <div class="score" id="bonesText">0</div>
        <div class="subscore">$ZOO <span id="zooText">0</span></div>
      </div>
      <button id="walletTopBtn" class="pill">–ö–æ—à–µ–ª—ë–∫</button>
    </header>

    <!-- Pages -->
    <main class="pages">
      <!-- CLICK -->
      <section id="page-click" class="page active">
        <div class="player-pill" id="playerName">üê∂ –î–º–∏—Ç—Ä–∏–π</div>

        <div class="dog-area">
          <div class="dog-wrap" id="dogWrap">
            <img id="dogImg" class="dog-img" src="./assets/dog_idle.png" alt="Dog" draggable="false" />
            <div id="dogOverlay" class="dog-overlay"></div>
          </div>
          <div class="dog-hint">–¢–∞–ø–∞–π –ø–æ —Å–æ–±–∞–∫–µ</div>
        </div>

        <div class="energy-card">
          <div class="energy-head">
            <div>–≠–ù–ï–†–ì–ò–Ø</div>
            <div><span id="energyText">1000</span> / <span id="maxEnergyText">1000</span></div>
          </div>
          <div class="energy-bar">
            <div id="energyFill" class="energy-fill"></div>
          </div>
        </div>

        <div class="ref-card">
          <div class="ref-title">–†–µ—Ñ–µ—Ä–∞–ª–∫–∞</div>
          <div class="ref-line">–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å: <b id="refProgress">0/5</b></div>
          <button id="refShareBtn" class="btn w100">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          <button id="refClaimBtn" class="btn w100 secondary">–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
          <div class="ref-link" id="refLinkText"></div>
        </div>
      </section>

      <!-- NFT SHOP -->
      <section id="page-nft" class="page">
        <h2 class="h2">NFT-–º–∞–≥–∞–∑–∏–Ω</h2>
        <div id="nftList" class="grid"></div>
      </section>

      <!-- TASKS -->
      <section id="page-tasks" class="page">
        <h2 class="h2">–ó–∞–¥–∞–Ω–∏—è</h2>
        <div id="tasksList" class="list"></div>
      </section>

      <!-- WALLET -->
      <section id="page-wallet" class="page">
        <h2 class="h2">–ö–æ—à–µ–ª—ë–∫</h2>

        <div class="card">
          <div id="tonConnectUi"></div>
          <div class="row">
            <div>–ê–¥—Ä–µ—Å:</div>
            <div id="walletAddr" class="mono">‚Äî</div>
          </div>
          <div class="row">
            <div>–ë–∞–ª–∞–Ω—Å TON:</div>
            <div id="walletTon" class="mono">‚Äî</div>
          </div>
          <button id="tonRefreshBtn" class="btn w100">–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
        </div>
      </section>
    </main>

    <!-- Bottom nav -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-page="click">–ö–ª–∏–∫</button>
      <button class="nav-btn" data-page="nft">NFT</button>
      <button class="nav-btn" data-page="tasks">–ó–∞–¥–∞–Ω–∏—è</button>
      <button class="nav-btn" data-page="wallet">–ö–æ—à–µ–ª—ë–∫</button>
    </nav>
  </div>

  <!-- Scripts -->
  <script src="./js/storage.js"></script>
  <script src="./js/state.js"></script>
  <script src="./js/ui.js"></script>
  <script src="./js/backend.js"></script>
  <script src="./js/nft_shop.js"></script>
  <script src="./js/tasks.js"></script>
  <script src="./js/wallet.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>